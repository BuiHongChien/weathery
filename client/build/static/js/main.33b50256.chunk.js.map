{"version":3,"sources":["components/utils/minsc.js","components/CurrentLocation.js","components/Location.js","components/FavoriteList.js","components/App.js","index.js"],"names":["citiesImage","cities","data","convertedData","Object","keys","map","key","Number","returnData","country","i","length","concat","CurrentLocation","currentLocation","cityImage","cityName","name","toLowerCase","replace","cityFound","find","c","className","style","backgroundImage","sys","d","day","getDay","date","getDate","month","getMonth","year","getFullYear","dateBuilder","Date","src","weather","icon","Math","round","main","temp","description","wind","speed","feels_like","humidity","pressure","Location","location","favorites","id","deleteLocation","changeCurrentLocation","addToFavorites","removeFavorite","onClick","element","stopPropagation","indexOf","api","React","Component","App","state","query","currentLat","currentLon","locations","suggestions","hoveredLocation","fetching","position","axios","post","then","res","doc","setState","coord","lat","lon","console","log","search","event","onTextChange","value","target","regex","RegExp","filter","city","test","slice","selectedText","handleOnClickSuggestion","item","renderSuggestions","index","delete","message","newLocations","l","_id","splice","put","newCurrentLocation","newFavorites","push","renderLocations","get","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","err","isFavorite","f","isCurrentLocation","type","placeholder","onKeyPress","onChange","this","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.33b50256.chunk.js","sourcesContent":["export const citiesImage = [\r\n  \"bangkok\",\r\n  \"beijing\",\r\n  \"hanoi\",\r\n  \"moscow\",\r\n  \"saintpetersburg\",\r\n  \"paris\",\r\n  \"seoul\",\r\n  \"tokyo\",\r\n  \"london\",\r\n];\r\n\r\nexport const cities = (data) => {\r\n  let convertedData = Object.keys(data).map((key) => [Number(key), data[key]]);\r\n  let returnData = [];\r\n\r\n  convertedData = convertedData.map((country) => country[1]);\r\n  for (var i = 0; i < convertedData.length; i++)\r\n    returnData = returnData.concat(convertedData[i]);\r\n\r\n  // console.log(typeof returnData)\r\n  return returnData;\r\n};\r\n","import React from \"react\";\r\n\r\nimport { citiesImage } from \"./utils/minsc\";\r\n// import Favorite from './Favorite';\r\n\r\nconst CurrentLocation = ({ currentLocation }) => {\r\n  const dateBuilder = (d) => {\r\n    let months = [\r\n      \"January\",\r\n      \"February\",\r\n      \"March\",\r\n      \"April\",\r\n      \"May\",\r\n      \"June\",\r\n      \"July\",\r\n      \"August\",\r\n      \"September\",\r\n      \"October\",\r\n      \"November\",\r\n      \"December\",\r\n    ];\r\n    let days = [\r\n      \"Monday\",\r\n      \"Tuesday\",\r\n      \"Wednesday\",\r\n      \"Thursday\",\r\n      \"Friday\",\r\n      \"Saturday\",\r\n      \"Sunday\",\r\n    ];\r\n\r\n    let day = days[d.getDay()];\r\n    let date = d.getDate();\r\n    let month = months[d.getMonth()];\r\n    let year = d.getFullYear();\r\n\r\n    return `${day}, ${month} ${date}${\r\n      date === 1 ? \"st\" : date === 2 ? \"nd\" : date === 3 ? \"rd\" : \"th\"\r\n    } ${year}`;\r\n  };\r\n\r\n  let cityImage = \"default\";\r\n  const cityName = currentLocation.name.toLowerCase().replace(\" \", \"\");\r\n  const cityFound = citiesImage.find((c) => c === cityName);\r\n  cityImage = cityFound ? cityFound : cityImage;\r\n  \r\n  return (\r\n    <div\r\n      className=\"location\"\r\n      style={{\r\n        backgroundImage: `linear-gradient(to right, #ffffff23, #ffffff23), url(/images/${cityImage}.jpg)`,\r\n      }}\r\n    >\r\n      {/* <Favorite name={currentLocation?.name} /> */}\r\n      <div className=\"location--left\">\r\n        <div className=\"location__info\">\r\n          <div className=\"location__city\">\r\n            {currentLocation?.name}, {currentLocation?.sys?.country}\r\n          </div>\r\n          <div className=\"location__date-time\">{dateBuilder(new Date())}</div>\r\n          <div className=\"location__temp\">\r\n            <img\r\n              className=\"location__icon\"\r\n              src={`http://openweathermap.org/img/w/${currentLocation.weather[0].icon}.png`}\r\n            />\r\n            {Math.round(currentLocation?.main?.temp - 273)}\r\n            <span>&#176;</span>C\r\n          </div>\r\n          <div className=\"location__des\">\r\n            {currentLocation?.weather[0].description}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"location--right\">\r\n        <div className=\"location__weather\">\r\n          <div className=\"location__title\">Wind</div>\r\n          <div className=\"location__value\">\r\n            {Math.round(currentLocation?.wind?.speed)} m/c\r\n          </div>\r\n        </div>\r\n        <div className=\"location__weather\">\r\n          <div className=\"location__title\">Feels Like</div>\r\n          <div className=\"location__value\">\r\n            {Math.round(currentLocation?.main?.feels_like - 273)}\r\n            <span>&#176;</span>C\r\n          </div>\r\n        </div>\r\n        <div className=\"location__weather\">\r\n          <div className=\"location__title\">Humidity</div>\r\n          <div className=\"location__value\">\r\n            {Math.round(currentLocation?.main?.humidity)}%\r\n          </div>\r\n        </div>\r\n        <div className=\"location__weather\">\r\n          <div className=\"location__title\">Pressure</div>\r\n          <div className=\"location__value\">\r\n            {Math.round(currentLocation?.main?.pressure)} hpa\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CurrentLocation;\r\n","import React from \"react\";\r\nimport { FaHeart } from \"react-icons/fa\";\r\nimport { BiHeart } from \"react-icons/bi\";\r\nimport { FaTrash } from \"react-icons/fa\";\r\n\r\nimport { citiesImage } from \"./utils/minsc\";\r\nimport \"../styles/_button.scss\";\r\n\r\nconst Location = ({\r\n  location,\r\n  favorites, \r\n  id,\r\n  deleteLocation,\r\n  changeCurrentLocation,\r\n  addToFavorites,\r\n  removeFavorite,\r\n}) => {\r\n  // console.log(favorites);\r\n\r\n  let cityImage = \"default\";\r\n  const cityName = location.name.toLowerCase().replace(/\\s/g, \"\");\r\n  const cityFound = citiesImage.find((c) => c === cityName);\r\n  cityImage = cityFound ? cityFound : cityImage;\r\n\r\n  return (\r\n    <div\r\n      className=\"location-box\"\r\n      onClick={(element) => changeCurrentLocation(element, id)}\r\n      style={{\r\n        backgroundImage: `linear-gradient(to right, #000000a6, #000000a6), url(/images/${cityImage}.jpg)`,\r\n      }}\r\n    >\r\n      <div className=\"location-box__city\">\r\n        <div className=\"location-box__name\">{location.name}</div>\r\n        <div className=\"location-box__temp\">\r\n          <img\r\n            className=\"location-box__icon\"\r\n            src={`http://openweathermap.org/img/w/${location.weather[0].icon}.png`}\r\n          />\r\n          {Math.round(location?.main?.temp - 273)}\r\n          <span>&#176;</span>C\r\n        </div>\r\n        <button\r\n          // icon={favorites.indexOf(id)===-1?'heart outline':'heart'}\r\n          className={`button button--favorite`}\r\n          onClick={(element) => {\r\n            element.stopPropagation();\r\n            if (favorites.indexOf(id) === -1) addToFavorites(element, id);\r\n            else removeFavorite(element, id);\r\n          }}\r\n        >\r\n          {\r\n            favorites.indexOf(id)===-1? <BiHeart className='bi-heart' />:<FaHeart className='fa-heart' />\r\n          }\r\n        </button>\r\n        <button\r\n          className=\"button button--close\"\r\n          onClick={(element) => {\r\n            element.stopPropagation();\r\n            deleteLocation(element, id);\r\n          }}\r\n        >\r\n          \r\n          <FaTrash className='fa-trash'/>\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"location-box__details\">\r\n        <div className=\"location-box__weather\">\r\n          <div className=\"location-box__title\">Wind</div>\r\n          <div className=\"location-box__value\">\r\n            {Math.round(location?.wind?.speed)}m/c\r\n          </div>\r\n        </div>\r\n        <div className=\"location-box__weather\">\r\n          <div className=\"location-box__title\">Feels Like</div>\r\n          <div className=\"location-box__value\">\r\n            {Math.round(location?.main?.feels_like - 273)}\r\n            <span>&#176;</span>C\r\n          </div>\r\n        </div>\r\n        <div className=\"location-box__weather\">\r\n          <div className=\"location-box__title\">Humidity</div>\r\n          <div className=\"location-box__value\">\r\n            {Math.round(location?.main?.humidity)}%\r\n          </div>\r\n        </div>\r\n        <div className=\"location-box__weather\">\r\n          <div className=\"location-box__title\">Pressure</div>\r\n          <div className=\"location-box__value\">\r\n            {Math.round(location?.main?.pressure)} hpa\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Location;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport { FaHeart } from \"react-icons/fa\";\r\n\r\nconst api = \"http://localhost:5000\";\r\n\r\nclass FavoriteList extends React.Component {\r\n  state = {\r\n    anchorEl: null,\r\n  };\r\n\r\n  handleClick = (event) => {\r\n    console.log(event);\r\n    // this.setState({anchorEl:event?.currentTarget});\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  renderedFavoriteList = async () => {\r\n    try {\r\n      let res = await axios.get(`${api}/favorite`);\r\n      let favorites = res.data;\r\n      console.log(favorites);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n    return (\r\n      <Menu\r\n        id=\"simple-menu\"\r\n        anchorEl={this.state.anchorEl}\r\n        keepMounted\r\n        open={Boolean(this.state.anchorEl)}\r\n        onClose={(event) => this.handleClose()}\r\n      >\r\n        {/* <MenuItem onClick={handleClose}>haha</MenuItem> */}\r\n        {/* {favorites.map(favorite=>{\r\n              console.log(favorite)\r\n              return(\r\n            <MenuItem onClick={handleClose}>haha</MenuItem>)\r\n          })} */}\r\n      </Menu>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"favorite-list\">\r\n        <Button\r\n          aria-controls=\"simple-menu\"\r\n          aria-haspopup=\"true\"\r\n          onClick={(event) => this.handleClick()}\r\n        >\r\n          <FaHeart className=\"favorite-list-icon\" />\r\n        </Button>\r\n\r\n        {this.renderedFavoriteList}\r\n        {/* {favorites.length>0? favorites.map(favorite=>{\r\n              <MenuItem onClick={handleClose}>Profile</MenuItem>\r\n          }):null}\r\n        <MenuItem onClick={handleClose}>Profile</MenuItem>\r\n        <MenuItem onClick={handleClose}>My account</MenuItem>\r\n        <MenuItem onClick={handleClose}>Logout</MenuItem> */}\r\n        {/* </Menu> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FavoriteList;\r\n","import React from \"react\";\r\nimport PlacesAutocomplete, {\r\n  geocodeByAddress,\r\n  getLatLng,\r\n} from \"react-places-autocomplete\";\r\nimport axios from 'axios'\r\n\r\nimport CurrentLocation from \"./CurrentLocation\";\r\nimport Location from \"./Location\";\r\nimport data from \"./data/data.json\";\r\nimport { cities } from \"./utils/minsc\";\r\nimport FavoriteList from './FavoriteList'\r\n\r\nimport \"../styles/app.scss\";\r\nimport \"../styles/location.scss\";\r\n\r\nconst api=\"http://localhost:5000\"\r\n\r\nexport default class App extends React.Component {\r\n  state = {\r\n    query: \"\",\r\n    currentLocation: null,\r\n    currentLat: null,\r\n    currentLon: null,\r\n    locations: [],\r\n    suggestions: [],\r\n    hoveredLocation: null,\r\n    data: cities(data),\r\n    favorites: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios.get(`${api}/location`).then(\r\n      res=>{\r\n        if(res.data.length===0){\r\n          navigator.geolocation.getCurrentPosition(\r\n                (position) => {\r\n                    this.fetching({lat:position.coords.latitude, lon:position.coords.longitude})\r\n                },\r\n                (err) => this.setState({ query: \"hanoi\" }, () => this.fetching({name:'hanoi'}))\r\n              );\r\n        }\r\n        else{\r\n          const favorites=res.data.filter(l=>l.isFavorite).map(f=>f._id);\r\n          const currentLocation=res.data.filter(l=>l.isCurrentLocation)\r\n\r\n          this.setState({\r\n            locations:res.data,\r\n            favorites:favorites,\r\n            currentLocation:currentLocation[0],\r\n            currentLat:currentLocation[0].coord.lat,\r\n            currentLon:currentLocation[0].coord.lon\r\n          })\r\n        }}\r\n    )\r\n  }\r\n\r\n  fetching = (position) => {\r\n    // console.log(position)\r\n    axios.post(`${api}/location`, position).then(res=>{\r\n      if(res.data.doc){\r\n      this.setState({\r\n        query:'',\r\n        locations:[...this.state.locations,res.data.doc],\r\n        currentLocation:res.data.doc,\r\n        currentLat:res.data.doc.coord.lat,\r\n        currentLon:res.data.doc.coord.lon\r\n      },()=>console.log(this.state))}\r\n    })\r\n  };\r\n\r\n  search = (event) => {\r\n    if (event.key === \"Enter\") {\r\n      this.setState({ suggestions: [] }, () => {\r\n        this.fetching({name:this.state.query});\r\n        this.setState({query:''});\r\n      });\r\n    }\r\n  };\r\n\r\n  onTextChange = (event) => {\r\n    const value = event.target.value;\r\n    let suggestions = [];\r\n    if (value.length > 0) {\r\n      const regex = new RegExp(`^${value}`, \"i\");\r\n      suggestions = this.state.data\r\n        ?.filter((city) => regex.test(city))\r\n        .slice(0, 10);\r\n    }\r\n\r\n    this.setState(() => ({\r\n      suggestions,\r\n      query: value,\r\n    }));\r\n  };\r\n\r\n  selectedText = (value) => {\r\n    this.setState(\r\n      {\r\n        query: value,\r\n        suggestions: [],\r\n      },\r\n      () => {\r\n        console.log(\"fetching...\");\r\n        this.fetching({name:value});\r\n        // this.setItem();\r\n      }\r\n    );\r\n  };\r\n\r\n  handleOnClickSuggestion = (item) => {\r\n    console.log(\"li tag was clicked\");\r\n  };\r\n\r\n  renderSuggestions = () => {\r\n    let { suggestions } = this.state;\r\n    if (suggestions.length === 0) return null;\r\n\r\n    return (\r\n      <ul className=\"search-box__suggestions\">\r\n        {suggestions.map((item, index) => {\r\n          return (\r\n            <li\r\n              key={index}\r\n              onClick={() => this.handleOnClickSuggestion(item)}\r\n              className=\"search-box__suggestion\"\r\n            >\r\n              {item}\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    );\r\n  };\r\n\r\n  deleteLocation = (element, id) => {\r\n    axios.delete(`${api}/location/${id}`).then(res=>{\r\n      if(res.data.message){\r\n      let newLocations = [...this.state.locations];\r\n      const deleteLocation=newLocations.find(l=>l._id===id)\r\n      newLocations.splice(newLocations.indexOf(deleteLocation), 1);\r\n\r\n      this.setState({ locations: newLocations },()=>console.log(this.state));}\r\n    })\r\n  };\r\n\r\n  changeCurrentLocation = (element, id) => {\r\n    console.log(id);\r\n    axios.put(`${api}/location/${id}`).then(res=>{\r\n      if(res.data.message){\r\n        console.log(\"successful\")\r\n        const newCurrentLocation=this.state.locations.find(l=>l._id===id)\r\n        this.setState({\r\n          currentLocation:newCurrentLocation,\r\n          currentLat:newCurrentLocation.coord.lat,\r\n          currentLon:newCurrentLocation.coord.lon\r\n        }, ()=>console.log(this.state))\r\n    }\r\n\r\n    })\r\n    }\r\n  \r\n\r\n  addToFavorites = (element, id) => {\r\n    console.log(id);\r\n    axios.put(`${api}/favorite/${id}`).then(res=>{\r\n      if(res.data.message){\r\n\r\n      const newFavorites = this.state.favorites;\r\n      newFavorites.push(id);\r\n      this.setState({ favorites:newFavorites},()=>console.log(this.state));}\r\n    })\r\n  };\r\n\r\n  removeFavorite = (element, id) => {\r\n    axios.put(`${api}/favorite/${id}`).then(res=>{\r\n      if(res.data.message){\r\n      const newFavorites=this.state.favorites;\r\n      const index = newFavorites.indexOf(id);\r\n      newFavorites.splice(index, 1);\r\n\r\n      this.setState({ favorites: newFavorites },()=>console.log(this.state));}\r\n    })\r\n  };\r\n\r\n  renderLocations = () => {\r\n    if (this.state.locations.length > 1) {\r\n      return (\r\n        <div className=\"location-container\">\r\n          {this.state.locations.map((location) => {\r\n            //  console.log(location)\r\n            if(location._id===this.state.currentLocation._id) return\r\n            if (location)\r\n              return (\r\n                <Location\r\n                  location={location}\r\n                  favorites={this.state.favorites}\r\n                  id={location._id}\r\n                  key={location.name}\r\n                  deleteLocation={(element, id) =>\r\n                    this.deleteLocation(element, id)\r\n                  }\r\n                  addToFavorites={(element, id) =>\r\n                    this.addToFavorites(element, id)\r\n                  }\r\n                  removeFavorite={(element, id) =>\r\n                    this.removeFavorite(element, id)\r\n                  }\r\n                  changeCurrentLocation={(element, id) =>\r\n                    this.changeCurrentLocation(element, id)\r\n                  }\r\n                />\r\n              );\r\n          })}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <main>\r\n          <div className=\"search-box\">\r\n            <input\r\n              id=\"query\"\r\n              type=\"text\"\r\n              className=\"search-box__bar\"\r\n              placeholder=\"Enter city name, country,...\"\r\n              onKeyPress={(event) => this.search(event)}\r\n              onChange={this.onTextChange}\r\n              value={this.state.query}\r\n            />\r\n            {this.renderSuggestions()}\r\n          </div>\r\n          {this.state.currentLocation ? (\r\n            <CurrentLocation\r\n              currentLocation={this.state.currentLocation}\r\n            />\r\n          ) : null}\r\n          {this.state.locations.length > 1 ? this.renderLocations() : null}\r\n          {/* <FavoriteList/> */}\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}